# 🧠 Problem: Find the Duplicate Number

> You’re given an array `nums` with `n + 1` numbers.
> Each number is between `1` and `n`.
> **Only one number is repeated**, maybe more than once.
> You **must not modify** the array, and you can only use **constant (O(1)) extra space**.

---

## 🧪 Example:

```txt
nums = [1, 3, 4, 2, 2]
```

Here, the number `2` appears **twice** — that’s the answer.

✅ Easy to find using a HashSet or sorting.
❌ But you’re not allowed to:

- Modify the array (so no sorting)
- Use more than constant memory (so no HashSet)

---

## 🤔 Key Idea (Simplified)

Let’s pretend `nums` is a **linked list**:

- Each element points to the **index of the next element**.

So for:

```txt
nums = [3, 1, 3, 4, 2]   // indexes: 0  1  2  3  4
```

We make arrows like this:

```txt
index 0 → nums[0] = 3 → go to index 3
index 3 → nums[3] = 4 → go to index 4
index 4 → nums[4] = 2 → go to index 2
index 2 → nums[2] = 3 → go to index 3 ← repeats!
```

🎯 There’s a **cycle**! Like a loop in a linked list.

---

## 🏃‍♂️ Floyd’s Tortoise and Hare (Simplified Explanation)

We use two runners:

- **Slow** = moves one step at a time: `slow = nums[slow]`
- **Fast** = moves two steps: `fast = nums[nums[fast]]`

Eventually they will meet inside the cycle (because there’s a duplicate).

Then we:

- Reset `slow = 0`
- Move both `slow` and `fast` one step at a time until they meet again — that’s the **duplicate number**!

---

## ✅ Final Code (With Comments)

```csharp
public int FindDuplicate(int[] nums) {
    // Step 1: Find the meeting point inside the cycle
    int slow = nums[0];
    int fast = nums[0];

    do {
        slow = nums[slow];         // move 1 step
        fast = nums[nums[fast]];   // move 2 steps
    } while (slow != fast);

    // Step 2: Find the entrance to the cycle (duplicate number)
    slow = nums[0];                // reset slow to beginning
    while (slow != fast) {
        slow = nums[slow];        // move 1 step
        fast = nums[fast];        // move 1 step
    }

    return slow;  // or fast — both are at the duplicate
}
```

---

## 🎉 Key Takeaways

| Thing                  | Meaning                        |
| ---------------------- | ------------------------------ |
| Why can't use HashSet? | Uses extra space (not allowed) |
| Why can't sort?        | Modifies array (not allowed)   |
| What’s the trick?      | Treat array like a linked list |
| What does it find?     | The loop entry = duplicate     |
